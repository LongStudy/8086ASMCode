; Àý4.25


STACK SEGMENT STACK'STACK'
    DW 1000H DUP(0)
TOP LABEL WORD
STACK ENDS
DATA SEGMENT 
TABLE DW SUB0,SUB1,SUB2,SUB3,SUB4,SUB5,SUB6,SUB7
STRING DB 'Please input 0~7 to select subroutines',0AH,0DH,'$'
DATA ENDS 
CODE SEGMENT
     ASSUME CS:CODE,DS:DATA,ES:DATA,SS:STACK  
START:
    MOV AX,DATA
    MOV DS,AX
    MOV ES,AX
    MOV AX,STACK
    MOV SS,AX
    LEA SP,TOP
ST1:
    MOV AH,9
    LEA DX,STRING
    INT 21H
    MOV AH,1
    INT 21H
    SUB AL,30H
    JB ST1
    CMP AL,8
    JAE ST1
    SHL AL,1
    XOR AH,AH
    MOV BX,AX
    CALL TABLE[BX]
    JMP ST1
    MOV AH,4CH
    INT 21H 
   


DISPAL	PROC NEAR
        PUSH AX
		PUSH CX
		PUSH DX
		PUSH AX
		MOV CL,4
		SHR AL,CL
		CALL CHANG
		MOV AH,02
		MOV DL,AL
		INT 21H
		POP AX
		AND AL,0FH
		CALL CHANG
		MOV AH,02
		MOV DL,AL
		INT 21H
		POP DX
		POP CX
		POP AX
		RET
DISPAL	ENDP

CHANG PROC NEAR	
		CMP AL,10
		JNGE CHANG1
		ADD AL,7
CHANG1:
		ADD AL,30H
		RET
CHANG ENDP

DISPCR	PROC NEAR
		PUSH AX
		PUSH DX
		MOV AH,2
		MOV DL,0AH
		INT 21H
		MOV AH,2
		MOV DL,0DH
		INT 21H
		POP DX
		POP AX
		RET
DISPCR	ENDP          

SUB0	PROC NEAR

    MOV AL,0
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB0 ENDP
SUB1	PROC NEAR

    MOV AL,1
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB1 ENDP
SUB2	PROC NEAR

    MOV AL,2
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB2 ENDP
SUB3	PROC NEAR

    MOV AL,3
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB3 ENDP
SUB4	PROC NEAR

    MOV AL,4
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB4 ENDP
SUB5	PROC NEAR

    MOV AL,5
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB5 ENDP
SUB6	PROC NEAR

    MOV AL,6
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB6 ENDP
SUB7	PROC NEAR

    MOV AL,7
    CALL DISPAL
    CALL DISPCR
    RETF  
SUB7 ENDP             


CODE ENDS
     END START